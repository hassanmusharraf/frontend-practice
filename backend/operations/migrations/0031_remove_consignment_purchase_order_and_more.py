# Generated by Django 5.2.5 on 2025-09-01 11:29

import django.db.models.deletion
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('operations', '0030_remove_consignment_purchase_order_and_more'),
    ]

    operations = [
        migrations.RemoveField(
            model_name='consignment',
            name='purchase_order',
        ),
        migrations.RemoveField(
            model_name='consignmentstaging',
            name='purchase_order',
        ),
        migrations.AddField(
            model_name='consignment',
            name='step',
            field=models.CharField(blank=True, max_length=50, null=True),
        ),
        migrations.AddField(
            model_name='consignmentstaging',
            name='purchase_orders',
            field=models.ManyToManyField(related_name='staging_consignments', to='operations.purchaseorder'),
        ),
        migrations.AlterField(
            model_name='consignment',
            name='consignment_status',
            field=models.CharField(choices=[('Pending For Approval', 'Pending For Approval'), ('Pickup Completed', 'Pickup Completed'), ('Pending Bid', 'Pending Bid'), ('At Customs', 'At Customs'), ('Delivered', 'Delivered'), ('Rejected', 'Rejected'), ('Cancelled', 'Cancelled'), ('Received At Destination', 'Received At Destination'), ('Pending Console Assignment', 'Pending Console Assignment'), ('Freight Forwarder Assigned', 'Freight Forwarder Assigned'), ('Console Assigned', 'Console Assigned'), ('Out For Delivery', 'Out For Delivery'), ('Partially Received', 'Partially Received'), ('Draft', 'Draft')], default='Pending For Approval', max_length=50),
        ),
        migrations.CreateModel(
            name='ConsignmentPurchaseOrder',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(default=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('consignment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operations.consignment')),
                ('purchase_order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operations.purchaseorder')),
            ],
            options={
                'abstract': False,
            },
        ),
    ]
